{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": null,
  "links": [],
  "panels": [
    {
      "gridPos": { "h": 2, "w": 24, "x": 0, "y": 0 },
      "id": 100,
      "options": {
        "content": "# GAMERS Load Test Dashboard\nReal-time k6 부하 테스트 결과 모니터링",
        "mode": "markdown"
      },
      "title": "",
      "type": "text"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 300 },
              { "color": "red", "value": 500 }
            ]
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 0, "y": 2 },
      "id": 1,
      "options": {
        "reduceOptions": {
          "calcs": ["mean"],
          "fields": "",
          "values": false
        }
      },
      "targets": [
        {
          "query": "SELECT mean(\"value\") FROM \"http_req_duration\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Avg Response Time",
      "type": "stat"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 500 },
              { "color": "red", "value": 1500 }
            ]
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 6, "y": 2 },
      "id": 2,
      "options": {
        "reduceOptions": {
          "calcs": ["max"],
          "fields": "",
          "values": false
        }
      },
      "targets": [
        {
          "query": "SELECT percentile(\"value\", 95) FROM \"http_req_duration\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "P95 Response Time",
      "type": "stat"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "red", "value": 0.05 }
            ]
          },
          "unit": "percentunit"
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 12, "y": 2 },
      "id": 3,
      "options": {
        "reduceOptions": {
          "calcs": ["mean"],
          "fields": "",
          "values": false
        }
      },
      "targets": [
        {
          "query": "SELECT mean(\"value\") FROM \"http_req_failed\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Error Rate",
      "type": "stat"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "blue", "value": null }
            ]
          },
          "unit": "short"
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 18, "y": 2 },
      "id": 4,
      "options": {
        "reduceOptions": {
          "calcs": ["max"],
          "fields": "",
          "values": false
        }
      },
      "targets": [
        {
          "query": "SELECT max(\"value\") FROM \"vus\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Peak Virtual Users",
      "type": "stat"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          },
          "unit": "ms"
        },
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "p95" },
            "properties": [{ "id": "color", "value": { "fixedColor": "orange", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "p99" },
            "properties": [{ "id": "color", "value": { "fixedColor": "red", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "avg" },
            "properties": [{ "id": "color", "value": { "fixedColor": "green", "mode": "fixed" } }]
          }
        ]
      },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 6 },
      "id": 5,
      "options": {
        "tooltip": { "mode": "multi" }
      },
      "targets": [
        {
          "alias": "avg",
          "query": "SELECT mean(\"value\") FROM \"http_req_duration\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        },
        {
          "alias": "p95",
          "query": "SELECT percentile(\"value\", 95) FROM \"http_req_duration\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "B"
        },
        {
          "alias": "p99",
          "query": "SELECT percentile(\"value\", 99) FROM \"http_req_duration\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "C"
        }
      ],
      "title": "Response Time (avg / p95 / p99)",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 15
          },
          "unit": "reqps"
        }
      },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 6 },
      "id": 6,
      "targets": [
        {
          "alias": "RPS",
          "query": "SELECT count(\"value\") FROM \"http_reqs\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Requests Per Second",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          },
          "unit": "short"
        }
      },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 14 },
      "id": 7,
      "targets": [
        {
          "alias": "Active VUs",
          "query": "SELECT mean(\"value\") FROM \"vus\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Active Virtual Users",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 20
          },
          "unit": "percentunit"
        }
      },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 14 },
      "id": 8,
      "targets": [
        {
          "alias": "Error Rate",
          "query": "SELECT mean(\"value\") FROM \"http_req_failed\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Error Rate Over Time",
      "type": "timeseries"
    },
    {
      "gridPos": { "h": 2, "w": 24, "x": 0, "y": 22 },
      "id": 101,
      "options": {
        "content": "## Per-Endpoint Breakdown",
        "mode": "markdown"
      },
      "title": "",
      "type": "text"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 24 },
      "id": 9,
      "targets": [
        {
          "alias": "$tag_name",
          "query": "SELECT mean(\"value\") FROM \"http_req_duration\" WHERE $timeFilter GROUP BY time($__interval), \"name\"",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Response Time by Endpoint",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          },
          "unit": "short"
        }
      },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 24 },
      "id": 10,
      "targets": [
        {
          "alias": "$tag_name",
          "query": "SELECT count(\"value\") FROM \"http_reqs\" WHERE $timeFilter GROUP BY time($__interval), \"name\"",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Request Count by Endpoint",
      "type": "timeseries"
    },
    {
      "gridPos": { "h": 2, "w": 24, "x": 0, "y": 32 },
      "id": 102,
      "options": {
        "content": "## Custom Metrics (Scenario-Specific)",
        "mode": "markdown"
      },
      "title": "",
      "type": "text"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 8, "w": 8, "x": 0, "y": 34 },
      "id": 11,
      "targets": [
        {
          "alias": "Invite Latency",
          "query": "SELECT mean(\"value\") FROM \"invite_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        },
        {
          "alias": "Accept Latency",
          "query": "SELECT mean(\"value\") FROM \"accept_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "B"
        }
      ],
      "title": "Team Invite / Accept Latency",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 8, "w": 8, "x": 8, "y": 34 },
      "id": 12,
      "targets": [
        {
          "alias": "Submit Latency",
          "query": "SELECT mean(\"value\") FROM \"submit_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        },
        {
          "alias": "Application Accept Latency",
          "query": "SELECT mean(\"value\") FROM \"accept_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "B"
        }
      ],
      "title": "Application Submit / Accept Latency",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 34 },
      "id": 13,
      "targets": [
        {
          "alias": "Contest Start Latency",
          "query": "SELECT mean(\"value\") FROM \"contest_start_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        },
        {
          "alias": "Tournament Create Latency",
          "query": "SELECT mean(\"value\") FROM \"tournament_create_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "B"
        }
      ],
      "title": "Contest Start / Tournament Create Latency",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "unit": "short"
        }
      },
      "gridPos": { "h": 8, "w": 24, "x": 0, "y": 42 },
      "id": 14,
      "targets": [
        {
          "alias": "Invites Sent",
          "query": "SELECT sum(\"value\") FROM \"invite_sent\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        },
        {
          "alias": "Invites Accepted",
          "query": "SELECT sum(\"value\") FROM \"invite_accepted\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "B"
        },
        {
          "alias": "Applications Submitted",
          "query": "SELECT sum(\"value\") FROM \"application_submitted\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "C"
        },
        {
          "alias": "Contests Started",
          "query": "SELECT sum(\"value\") FROM \"contest_started\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "D"
        },
        {
          "alias": "Tournaments Created",
          "query": "SELECT sum(\"value\") FROM \"tournament_created\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "E"
        }
      ],
      "title": "Business Metrics (Cumulative Counts)",
      "type": "timeseries"
    },
    {
      "gridPos": { "h": 2, "w": 24, "x": 0, "y": 50 },
      "id": 103,
      "options": {
        "content": "## Team Query (N+1 Performance Test)",
        "mode": "markdown"
      },
      "title": "",
      "type": "text"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 300 },
              { "color": "red", "value": 500 }
            ]
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 0, "y": 52 },
      "id": 20,
      "options": {
        "reduceOptions": {
          "calcs": ["mean"],
          "fields": "",
          "values": false
        }
      },
      "targets": [
        {
          "query": "SELECT mean(\"value\") FROM \"team_query_latency\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Avg Team Query Latency",
      "type": "stat"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 300 },
              { "color": "red", "value": 500 }
            ]
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 6, "y": 52 },
      "id": 21,
      "options": {
        "reduceOptions": {
          "calcs": ["mean"],
          "fields": "",
          "values": false
        }
      },
      "targets": [
        {
          "query": "SELECT mean(\"value\") FROM \"members_query_latency\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "Avg Members Query Latency",
      "type": "stat"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 500 },
              { "color": "red", "value": 1500 }
            ]
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 12, "y": 52 },
      "id": 22,
      "options": {
        "reduceOptions": {
          "calcs": ["max"],
          "fields": "",
          "values": false
        }
      },
      "targets": [
        {
          "query": "SELECT percentile(\"value\", 95) FROM \"team_query_latency\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "P95 Team Query Latency",
      "type": "stat"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 500 },
              { "color": "red", "value": 1500 }
            ]
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 18, "y": 52 },
      "id": 23,
      "options": {
        "reduceOptions": {
          "calcs": ["max"],
          "fields": "",
          "values": false
        }
      },
      "targets": [
        {
          "query": "SELECT percentile(\"value\", 95) FROM \"members_query_latency\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "title": "P95 Members Query Latency",
      "type": "stat"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          },
          "unit": "ms"
        },
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "Team Query avg" },
            "properties": [{ "id": "color", "value": { "fixedColor": "green", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "Team Query p95" },
            "properties": [{ "id": "color", "value": { "fixedColor": "orange", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "Members Query avg" },
            "properties": [{ "id": "color", "value": { "fixedColor": "blue", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "Members Query p95" },
            "properties": [{ "id": "color", "value": { "fixedColor": "red", "mode": "fixed" } }]
          }
        ]
      },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 56 },
      "id": 24,
      "options": {
        "tooltip": { "mode": "multi" }
      },
      "targets": [
        {
          "alias": "Team Query avg",
          "query": "SELECT mean(\"value\") FROM \"team_query_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        },
        {
          "alias": "Team Query p95",
          "query": "SELECT percentile(\"value\", 95) FROM \"team_query_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "B"
        },
        {
          "alias": "Members Query avg",
          "query": "SELECT mean(\"value\") FROM \"members_query_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "C"
        },
        {
          "alias": "Members Query p95",
          "query": "SELECT percentile(\"value\", 95) FROM \"members_query_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "D"
        }
      ],
      "title": "Team Query Latency (avg / p95)",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 15
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "Team Queries" },
            "properties": [{ "id": "color", "value": { "fixedColor": "green", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "Members Queries" },
            "properties": [{ "id": "color", "value": { "fixedColor": "blue", "mode": "fixed" } }]
          }
        ]
      },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 56 },
      "id": 25,
      "options": {
        "tooltip": { "mode": "multi" }
      },
      "targets": [
        {
          "alias": "Team Queries",
          "query": "SELECT sum(\"value\") FROM \"team_query_count\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        },
        {
          "alias": "Members Queries",
          "query": "SELECT sum(\"value\") FROM \"members_query_count\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "B"
        }
      ],
      "title": "Team Query Request Count",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 20
          },
          "unit": "percentunit"
        },
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "Team Query Failed" },
            "properties": [{ "id": "color", "value": { "fixedColor": "orange", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "Members Query Failed" },
            "properties": [{ "id": "color", "value": { "fixedColor": "red", "mode": "fixed" } }]
          }
        ]
      },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 64 },
      "id": 26,
      "options": {
        "tooltip": { "mode": "multi" }
      },
      "targets": [
        {
          "alias": "Team Query Failed",
          "query": "SELECT mean(\"value\") FROM \"team_query_failed_rate\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        },
        {
          "alias": "Members Query Failed",
          "query": "SELECT mean(\"value\") FROM \"members_query_failed_rate\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "B"
        }
      ],
      "title": "Team Query Error Rate",
      "type": "timeseries"
    },
    {
      "datasource": "InfluxDB-k6",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 10
          },
          "unit": "ms"
        },
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "Team Query p99" },
            "properties": [{ "id": "color", "value": { "fixedColor": "red", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "Members Query p99" },
            "properties": [{ "id": "color", "value": { "fixedColor": "purple", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "Team Query p50" },
            "properties": [{ "id": "color", "value": { "fixedColor": "green", "mode": "fixed" } }]
          },
          {
            "matcher": { "id": "byName", "options": "Members Query p50" },
            "properties": [{ "id": "color", "value": { "fixedColor": "blue", "mode": "fixed" } }]
          }
        ]
      },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 64 },
      "id": 27,
      "options": {
        "tooltip": { "mode": "multi" }
      },
      "targets": [
        {
          "alias": "Team Query p50",
          "query": "SELECT percentile(\"value\", 50) FROM \"team_query_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "A"
        },
        {
          "alias": "Team Query p99",
          "query": "SELECT percentile(\"value\", 99) FROM \"team_query_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "B"
        },
        {
          "alias": "Members Query p50",
          "query": "SELECT percentile(\"value\", 50) FROM \"members_query_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "C"
        },
        {
          "alias": "Members Query p99",
          "query": "SELECT percentile(\"value\", 99) FROM \"members_query_latency\" WHERE $timeFilter GROUP BY time($__interval)",
          "rawQuery": true,
          "refId": "D"
        }
      ],
      "title": "Team Query Latency Distribution (p50 / p99)",
      "type": "timeseries"
    }
  ],
  "refresh": "5s",
  "schemaVersion": 39,
  "tags": ["k6", "load-test", "gamers"],
  "templating": { "list": [] },
  "time": { "from": "now-15m", "to": "now" },
  "timepicker": {},
  "timezone": "Asia/Tokyo",
  "title": "GAMERS - Load Test Dashboard",
  "uid": "gamers-k6-load-test",
  "version": 1
}
